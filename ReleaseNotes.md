## v1.0.8 リリースノート
* リリース日  
2025/10/23
* リリースバージョン  
v1.0.8

### 概要
* vbv_calcの敵（防御側）に敵キャラ選択モードを追加  
  vbv_calcに攻撃側と同様の設定をできるモードを追加しました。
  防御側は敵キャラを前提としているため、称号と武功の設定はありません。
  また、ゲーム画面から情報を取得するボタンでは、キャラクター、装備を自動的にセットします。
  MAP画面の敵拠点をクリックし、敵師団から敵キャラクターを選択することで出てくる中央の情報から変換しています。
  また、既存のモードは基本モードとして機能しますが、敵キャラ選択モードとは値を共有しません（タブを切り替えるたびに再計算します）

* vbv_calcに敵専用キャラクターの追加  
  上記の防御側の選択モードに合わせて、敵専用のキャラクターの情報を追加しています。一部まだ足りないものもありますが、ご容赦ください

* vbv_calcのレベル・武功の入力の仕様の変更  
  vbv_calcでレベル・武功を入力した際、装備などを変えると元に戻っていましたが、これを維持するよう変更しています。
  キャラクターの変更・ロードなどでは既存のように変更されます。

* vbv_calc,vbv_formationの保存時の仕様の変更  
  保存ボタンを押した際、同一保存名がいた際に上書きするか、別名で保存するか、キャンセルするかの確認をとるボックスが出るようにしました。
  別名で保存を選択した際、(1)という名前が付きます。(1)がいたら(2)となります。
  また、vbv_calcでは保存時には年月日をつけないようにしました
　vbv_formationでは師団編成を画面から取り込んだ際は、保存時の名称でなく内部的に保持したキャラクター名称を使用するため、このリストの表示名が変更されても問題ないはずです。

* vbv_calcでのスキル名・数値を変えた際の最終スキルへの反映および再計算の見直し  
  パッシブ、装備、称号、アシスト、リーダースキルの値を変えた際、最終スキルに即座に反映し再計算を行うように変更しました。

* vbv_calcでパリング・恐怖の瞳の追加  
  防御側にパリングおよび恐怖の瞳を追加しました。
  ダメージ期待値のみにしか作用しません（イベイドと同じく、少しでも発動すると最小ダメージが0になってしまうため  
  また、恐怖の瞳はアシストスキルでも恐怖の瞳に無効化されるとしています。

* vbv_calcに反撃ダメージを追加  
  vbv_calcに反撃ダメージを追加しました。期待値のみです。敵のクリティカル時のダメージを確認したい場合、右上のダメージ計算の画面に表示されているので参考にしてください。
  また、反撃ダメージは基本モードでは機能せず、敵選択モードのみとなっています。注意してください。
  これに合わせて攻撃側の城壁値も追加しています。

* vbv_formationでのレギオン編成画面でのリーダー・アシストの変更の追加  
  vbv_formationのレギオン編成画面でリーダー・アシストを変更できるようにしました。
  レギオンの保存をした際は、変更したリーダー・アシストで保存されます。
  また、処理的にバグを引き起こす可能性が高い部分なため、安全で非効率なやり方をしてちょっと重くなっています。

* vbv_formationでのレギオン編成画面でのアシストスキルの仕様の変更
  レギオン画面では師団・軍団にかかるスキルは先頭のキャラクターに付与されるという処理に変更しています。

* vbv_formationでの師団・軍団スキルの表示の色付けなど  
  vbv_formationで師団・軍団スキルの表示で、一部色を付けています。具体的には4種結界の95以上は赤、85以上は緑、それ以下は赤としています。
  また、愚者の嘘と正々堂々・地形無効が同時に存在した場合、愚者の嘘の色を青から赤へ変えて打消し線を入れています。
  ただし4種結界を持っていない際、なにも表示されないなど不完全であるため、今後仕様から変更する可能性があります。
  ユーザが各種スキルを閾値など含めてどう表示するのか設定できるようにするのがベストかと思いますが、大変なので置いておいてます。

* キャラクターの判定精度を改善  
  ゲーム画面から情報を取得する機能について、色情報を追加して精度を若干改善しています。特に、色替えのコンパチキャラを判定できるようになっているかと思います。

* vbv_calcの保存キャラクターについて、複数削除機能の追加  
  vbv_calcの保存キャラクターのリストを複数選択して削除する機能を追加しました。リストを複数選択している際は保存・読み込みボタンが不活性化するので注意してください。

* バグ修正
  - vbv_formationで、アシストスキルを選択しているキャラをクリアした際に落ちる問題を修正
  - その他、細かい修正

* その他注意点  
  - 1.0.7のsaved.jsonはデータ構造を変えていないので基本的に使えるかと思いますが、shidan.json,legion.jsonは怪しい部分があります。
    - データ構造は変更していないが、アシスト関連とリーダー関連の処理を変えているため、齟齬が起きる可能性があります。
  
***
## v1.0.7.1 リリースノート
* リリース日  
2025/10/10
* リリースバージョン  
v1.0.7.1

### 概要
* レギオン編成にて軍団活性が入ったレギオンが読み込まれると落ちる修正が入っていなかったため再リリース

****
## v1.0.7 リリースノート
* リリース日  
2025/10/10
* リリースバージョン  
v1.0.7

### 概要
* vbv_calc,vbv_formationにゲーム画面からの情報取得ボタンの追加  
  vbv_calc,vbv_formationにゲーム画面から情報を取得し、自動セットする機能を追加しました。  
  vbv_calcではキャラクター、装備、称号を自動的にセットします。試してませんが称号は片方空だと正常に設定されないかもしれません。   
  vbv_formationでは、師団6人のデータを保存されているキャラクターリストから取得し、右画面に配置します。
  同名のキャラクターがいた場合はリストの上のキャラが優先されます。いなければ空です。
  windowsのキャプチャの仕様から、画面は最小化されると動きません。
  詳細はReadmeをご確認ください。
  なお、あまりにも重く(特に初回？)不安になりかねないので、進行度表示用のウインドウが開きますが、途中で止められません。

* vbv_calcの保存リストにソート機能などを追加  
  師団をゲーム画面から情報を取得してロードする際、同名キャラがいると上のほうが優先されるためリスト全体のソートとリストを動かす機能を作りました。
  移動させた後にファイルに保存ボタンを押してください。
  リストだけの変更も多重書き込みの問題からvbv_formationからは変更できず、vbv_calcから変更する仕様です。そのうちアプリを1つにしますので…

* vbv_calcにレベルと武功の設定の追加  
  おまけの機能で、保存されません。
  もともとレベルに関してはHPに計算式が使われますが、他の能力は経験値のほうを使用して算出する仕組みです。
  経験値まで入れるのはユーザ的にめんどくさいので、レベルの下限として計算しています。値は50*(level)^ 2 − 100*level + 50です。

* vbv_formationにキャラクタークリアボタンの追加

* vbv_formationに狂奔の牙の倍率指定を追加

* vbv_formationの英雄覇気の修正  
  報告から、活性＋支配＋指揮の3つの効果としています。つまり実際の活性の数値は英雄覇気の表示の倍です。

* バグ修正
  - vbv_formationで、アシストスキルを選択時にスタンスが消えるバグの修正
  - 武将称号の接頭に「全てを」がローランと霊子体ロキの2つがあったため、霊子体ロキのほうは「全てを懸けて」に変更（ひらがなだったり:で分けられていない問題も修正）
  - その他、細かい修正

* その他注意点  
  - 1.0.6のsaved.json,shidan.json,legion.jsonはデータ構造を変えていないので基本的に使えるかと思います。
  - ゲーム画面からの情報取得ボタンは速度がかなり遅い（10秒近くかかる場合もある）ため、注意してください。 
  - 既知のバグとして、キャラクター保存リストを操作し最上段に動かすと0ではなく9998になります。ソートなどするともっとひどくなります。
  もともと意味のある数字ではなく、表示上の補助のためのものなので（内部的にもソートなどにも使われない）、とりあえず実害はないので放っておいてあります。
  - このリリースよりサイズが大きくなっています。.NETのファイルを含ませたこと、キャプチャでwindowsのライブラリを使うようになったこと、特徴量（学習）ファイルなどが原因です。
  - 動作確認中、vbv_calc.exeでWindows Defenderによりウイルスの誤検出が発生したことがありました。（Trojan:Script/Wacatac.B!ml）いい迷惑ですが、不安ならOSSなのでビルドをお願いします。元に戻す際はWindowsセキュリティ→保護の履歴→復元、でexeが復活するかと思います。
***
## v1.0.6 リリースノート
* リリース日  
2025/10/05
* リリースバージョン  
v1.0.6

### 概要
* vbv_formationにレギオン編成の追加  
  vbv_formationにレギオン編成画面を追加しました。師団編成でファイルに保存した師団を読み込みレギオンを編成し、保存することができます。
  18人のスキル・ステータス・師団スキルをすべて表示するのは難しいため、クリックでスキルやステータスが展開されて表示されます。
  師団と同じ構成でキャラクター名が表示されており、キャラクター名が表示されているボックスがスキル、HPが表示されているボックスがステータスとなっています。詳細はReadmeをご確認ください。

* vbv_formationにアシストスキルを追加
  vbv_formationでアシストスキルを追加できるようにしました。個人にかかるものは個人のスキルに、師団なら師団に、軍団なら軍団に設定されます。
  リーダーに付与されるなどは考慮していません。また、自爆障壁はめんどくさいので自爆結界に変換してます。
  レギオン画面で変更すると重くなりそうだったため、できません。師団を変更してレギオン側で読み込んでください。

* vbv_formationにレギオン重複チェック機能を追加  
  設定したレギオン内で重複キャラクター・装備の限定数をチェックすることができます。
  チェック結果は別ウィンドウに表示される形になります。

* vbv_formationでステータスアップ系のスキルに対応
  ステータスがアップする狂戦士化や狂奔の牙に対応しました。計算式や対応スキル・条件など詳細はReadmeにをご確認ください。

* vbv_calcにキャラクタースキル検索を追加  
  入力したスキルを持つキャラクターを検索する機能を追加しました。
  正確にはキャラクターの持つパッシブスキルのみを検索しています。リーダースキルやアシストスキルは無視しています。
  実装意図はこれをパッシブで持っているの誰だっけ、ということがよくあったためです。

* UIの更新  
  全体的に画面を整形しました。

* jsonファイルの更新  
  2025/09/28のwikiのデータをもとにもう一度更新しなおしました。

* バグ修正
  - vbv_formationの計算式を修正
  - 武将キャラクターのスタンスにゴミが入る問題を修正
  - vbv_calcの一部計算式を修正

* その他注意点  
  - 1.0.5のsaved.json,shidan.jsonはデータ構造を変えていないので基本的に使えるかと思います。ただしスタンスで&br;という文字列が入る可能性があります。
   今回そのゴミをjsonから削除し修正していますが、あった場合でもカットして表示されるようになっているはずではあります。  
  - Readmeに詳細に書いてありますが、英雄覇気が入ると結果がおかしくなります。単純な支配＋指揮ではない上、どのような仮定をおいても計算結果と合わないためあきらめました。

***
## v1.0.5 リリースノート
* リリース日  
2025/09/28
* リリースバージョン  
v1.0.5

### 概要
* vbv_formationにスタンスの追加  
  スタンスによる能力値増加を追加しました。総経験値はゲームから確認できませんが、適当に入れてください。  
  総経験値で上がる能力値は100上限の4乗根です。これは様々な能力値の上昇の最後に加算されます。
  なお、スタンスはリーダーの設定を使用するため自由に選べない仕様です。変更する場合はリーダーを変更してください。
* vbv_formationに地形効果の追加  
  地形効果による修正を追加しました。それぞれの効果を加算した後にステータス値に乗算します。-16と+8が適用される場合、-8%のステータス補正となります。   
  地形無効、決戦領域、兵士運搬のそれぞれの無効化・不利無効化を考慮します。
* 武功の変更機能の追加  
  武功を変更できるようにしました。変更するたびに武功をもとにした数値でステータスを変更します。
* vbv_formationに狙われるキャラクターの可視化機能の追加  
  狙われるキャラクターを赤色にしてわかりやすくしました。
  現在防御力*最大HPとして、狙われるキャラクターを可視化しました。
* キャラクターの称号の見やすさの修正
  一般称号の＊禁忌のように、各キャラクターの分かれ目で＊ローランのような行を追加しています。
  絞り込みまではしてくれませんが、以前よりはわかりやすくなりました。なお、手作業で追加しているのでミスがあるかもしれません。
* jsonファイルの更新  
  2025/09/28のwikiのデータをもとにjson更新しました。

* バグ修正
  - vbv_formationで保存したリーダーを使用すると正しく書き込み・読み込みができなかった問題を修正
  - vbv_calcで不完全なjsonを読み込んだ時にエラーになる問題の修正  
    修正し減らしましたが、まだまだ不完全な部分があります。どちらかといえばデータ側の問題でそちらをアップデートしました。
* その他注意点  
  前回以前のバージョンのsaved.json,shidan.jsonは基本的に使えません  
  アシストスキルはボックスで表示され選択できますが、反映されません。まだ確認が必要な項目が多いためです。

***
## v1.0.4 リリースノート
* リリース日  
2025/09/26
* リリースバージョン  
v1.0.4

### 概要
* vbv_formationの追加  

    師団編成用アプリvbv_formation.exeを追加しました。  
    vbv_calcで保存したキャラクターを読み込み、師団を編成できます。   
    詳細はReadmeの師団編成用アプリの項目を参照ください。

* バグ修正
  - 保存したキャラクターを読み込む際の様々な問題を修正
  - 検索ウインドウ関連の問題の修正  


***
## v1.0.3 リリースノート
* リリース日  
2025/09/23
* リリースバージョン  
v1.0.3

### 概要
* 検索ウインドウの追加  
  
  キャラクター、装備、称号の検索ウインドウを追加しました。部分一致になります。

* 保存したキャラクターを読み込むボタンの高速化

  保存したキャラクターを読み込むボタンを押した際に、時間がかかっていたのを改善しました。  
  おそらく1秒以内に終わると思います。

* バグ修正
  - アシストスキルの知力値などが保存されなかったバグの修正
  - アロンダイトに無駄な文字が入っていたためエラーになる問題の修正
  - 一部のボックスに設定なしのデータを追加
* その他
  - いらないデバッグメッセージの削除


***
## v1.0.2 リリースノート
* リリース日  
2025/09/21
* リリースバージョン  
v1.0.2

### 概要
* 職業特攻、スタンスの追加
  
  職業特攻を追加しました。合わせて攻撃側はキャラクターの選択に合わせて職業を表示し、防御側は選択できるようにしました。  
  スタンスについては攻撃防御ともに選べるようにしています。ただし現在ステータス補正は考慮していません。攻撃倍率のみ機能しています。

* 至高の盾の追加

  防御側に至高の盾を追加しました。パリングは無視しています。実質イベイドとブロックの数値に加算するものです。

* 矮小体躯の追加

  防御側に矮小体躯を追加しました。下記の運命値で増加します。ダメージ表示の仕様上、ダメージ期待値にのみ効果が反映されます。

* 運命値の追加

  攻撃、防御ともに運命値を追加しています。攻撃側の想定としては他の師団メンバーの運命の輪の値です。
どのスキルに影響するかは詳しくはReadmeを確認ください。

* キャラクター保存リストのキャラ名に保存した日時を追加

* キャラクター保存リストの削除機能の追加

  リストから選択しているキャラクターを削除できる機能を追加しました。

* キャラクター保存リストのファイルへの入出力の追加

  リストをJSON形式で保存・読み込みする機能を追加しました。
json/saved.jsonに保存されます。保存は基本的には手動で行う必要があります。再起動時には前回の保存の状況を読み込みます。

* バグの修正  

  - 保存されたキャラクターデータで装備や糧食が設定されていない場合、現在の装備や糧食を引き継ぐバグを修正。

  - 確率追撃が+100になっていたバグを修正。

  - 凍傷気流が種族を逆にしていたバグを修正。

***
## v1.0.1 リリースノート
* リリース日  
2025/09/21
* リリースバージョン  
v1.0.1

### 概要
* アシストスキルの追加  
  アシストスキルをレギオン分設定できるようにしています。各値の上限は25、ただし心核穿ちのみ5としています。
この情報は称号や装備と同じように保存され、読み込み時に変更されます。

* バグの修正  
称号でメダリオンの名前を選ぶと強制終了するバグを修正。


***
## v1.0.0 リリースノート
* リリース日  
2025/09/20
* リリースバージョン
v1.0.0

### 概要
ファーストリリース
